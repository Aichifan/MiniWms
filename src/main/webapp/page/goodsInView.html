<head>
<meta charset="UTF-8">
<title>jquery DataTables插件自定义分页ajax实现</title>
</head>

<body>
	<div class="row-fluid">
		<h3>JQuery DataTables插件自定义分页Ajax实现</h3>
		<table id="example"
			class="table table-striped table-bordered dt-responsive nowrap"
			cellspacing="0" width="100%">
			<thead>
				<tr>
					<th>入库单id</th>
					<th>创建时间</th>
					<th>修改时间</th>
					<th>预计入库</th>
					<th>订单编号</th>
				</tr>
			</thead>
			<tfoot>
				<tr>
					<th>入库单id</th>
					<th>创建时间</th>
					<th>修改时间</th>
					<th>预计入库</th>
					<th>订单编号</th>
				</tr>
			</tfoot>
			<tbody>
			</tbody>
		</table>
	</div>

	<script type="text/javascript">
    var lang = {
      "sProcessing" : "处理中...",
      "sLengthMenu" : "每页 _MENU_ 项",
      "sZeroRecords" : "没有匹配结果",
      "sInfo" : "当前显示第 _START_ 至 _END_ 项，共 _TOTAL_ 项。",
      "sInfoEmpty" : "当前显示第 0 至 0 项，共 0 项",
      "sInfoFiltered" : "(由 _MAX_ 项结果过滤)",
      "sInfoPostFix" : "",
      "sSearch" : "搜索:",
      "sUrl" : "",
      "sEmptyTable" : "表中数据为空",
      "sLoadingRecords" : "载入中...",
      "sInfoThousands" : ",",
      "oPaginate" : {
        "sFirst" : "首页",
        "sPrevious" : "上页",
        "sNext" : "下页",
        "sLast" : "末页",
        "sJump" : "跳转"
      },
      "oAria" : {
        "sSortAscending" : ": 以升序排列此列",
        "sSortDescending" : ": 以降序排列此列"
      }
    };

    //初始化表格
    //     $.get('/MiniWms/company/page', function(data) {
    //       var table = $("#example").DataTable({
    //         data : data,
    //         "columns" : [ {
    //           "data" : "id"
    //         }, {
    //           "data" : "created"
    //         }, {
    //           "data" : "anothername"
    //         } ]
    //       });
    //     })

    $('#example').DataTable({
      "processing" : true,
      "serverSide" : true,
      "ajax" : '/MiniWms/stockIn/page',
      "columns" : [ {
        "data" : "id"
      }, {
        "data" : "created",render: function(data, type, row, meta) {
          return ((new Date(data)).toLocaleString()); //date的格式 Thu Apr 26 2016 00:00:00 GMT+0800
        }
      }, {
        "data" : "modified",render: function(data, type, row, meta) {
          return ((new Date(data)).toLocaleString()); //date的格式 Thu Apr 26 2016 00:00:00 GMT+0800
      }
        
      }, {
        "data" : "date",render: function(data, type, row, meta) {
          return ((new Date(data)).toLocaleString());
        }
      }, {
        "data" : "billnumber"
      } ]
    });
  </script>
</body>
